(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{303:function(e,t,a){},495:function(e,t,a){"use strict";a.r(t);a(297),a(298);var s=a(0),n=a(27),r=a.n(n),i=a(18),c=a(48),o=(a(303),a(57)),l=a(65),d=a.n(l),u=a(106),h=a(14),b=a(50),j=a(22),p=a(23),m=a(17),O=a(25),g=a(24),f=a(35),x=a(2),v=function(e){Object(O.a)(a,e);var t=Object(g.a)(a);function a(){return Object(j.a)(this,a),t.apply(this,arguments)}return Object(p.a)(a,[{key:"render",value:function(){return Object(x.jsxs)("div",{className:"card border-info mb-3 mt-3",children:[Object(x.jsxs)("div",{className:"card-body text-info",children:[Object(x.jsx)(f.a,{to:"/view/".concat(this.props.title),children:Object(x.jsx)("h3",{className:"card-text",children:this.props.title})}),Object(x.jsx)(f.a,{to:"/profile/".concat(this.props.author),children:Object(x.jsx)("small",{className:"text-muted",children:this.props.author})}),Object(x.jsx)("p",{className:"card-text",children:this.props.description})]}),Object(x.jsx)("div",{className:"card-footer",children:Object(x.jsxs)("small",{className:"text-muted",children:["Last updated ",new Date(this.props.updatedAt).toLocaleDateString()]})})]})}}]),a}(s.Component),k=Object(i.g)(v),y=a(146),S=a.n(y),w=function(e){Object(O.a)(a,e);var t=Object(g.a)(a);function a(){return Object(j.a)(this,a),t.apply(this,arguments)}return Object(p.a)(a,[{key:"render",value:function(){return Object(x.jsxs)("div",{className:"card border-info mb-3 mt-3",children:[Object(x.jsxs)("div",{className:"card-body text-info",children:[Object(x.jsx)(f.a,{to:"/view/".concat(this.props.title),children:Object(x.jsx)("h3",{className:"card-text",children:this.props.title})}),Object(x.jsx)(f.a,{to:"/profile/".concat(this.props.author),children:Object(x.jsx)("small",{className:"text-muted",children:this.props.author})}),Object(x.jsx)("p",{className:"card-text",children:this.props.description})]}),Object(x.jsx)("div",{className:"card-footer",children:Object(x.jsxs)("div",{className:"row d-flex",children:[Object(x.jsx)("div",{className:"col-md-4",children:Object(x.jsx)(S.a,{value:this.props.rating,edit:!1,count:5,isHalf:!0,size:18,activeColor:"#ffd700"})}),Object(x.jsx)("div",{className:"offset-col-md-4 small text",children:this.props.rating.toPrecision(2)})]})})]})}}]),a}(s.Component),C=Object(i.g)(w),N=a(267),I=a(16),L=a.n(I),D=function(e){Object(O.a)(a,e);var t=Object(g.a)(a);function a(){var e;return Object(j.a)(this,a),(e=t.call(this)).state={allTags:[]},e.getTags=e.getTags.bind(Object(m.a)(e)),e}return Object(p.a)(a,[{key:"componentDidMount",value:function(){this.getTags()}},{key:"getTags",value:function(){var e=this;L.a.get("/book/getTags").then((function(t){t.data.map((function(t){return t.tags&&t.tags.map((function(t){return delete t.customOption,e.setState((function(e){return{allTags:[].concat(Object(o.a)(e.allTags),[t])}})),t})),t}))}))}},{key:"render",value:function(){return Object(x.jsx)(x.Fragment,{children:Object(x.jsx)("div",{className:"container mt-3",children:Object(x.jsxs)("div",{className:"row xl-3",children:[Object(x.jsxs)("div",{name:"recent",className:"col",children:[Object(x.jsx)("h3",{children:"Recently updated"}),JSON.parse(localStorage.getItem("books")).filter((function(e){return new Date(e.updatedAt)>new Date(Date.now()-6048e5)})).sort().reverse().map((function(e,t){return Object(x.jsx)(k,{title:e.title,description:e.description,author:e.author,updatedAt:e.updatedAt},e.id)}))]}),Object(x.jsxs)("div",{name:"top",className:"col",children:[Object(x.jsx)("h3",{children:"Top fandoms of the week"}),JSON.parse(localStorage.getItem("books")).slice(0,5).filter((function(e){return new Date(e.createdAt)>new Date(Date.now()-6048e5)})).sort((function(e,t){return t.rating-e.rating})).map((function(e,t){return Object(x.jsx)(C,{title:e.title,description:e.description,author:e.author,rating:e.ratingCount?e.rating/e.ratingCount:0},e.id)}))]}),Object(x.jsxs)("div",{name:"tags",className:"col",children:[Object(x.jsx)("h3",{children:"Tags"}),Object(x.jsx)(N.TagCloud,{minSize:16,maxSize:48,tags:(e=this.state.allTags,Object(o.a)(new Set(e.map((function(e){return JSON.stringify(e)})))).map((function(e){return JSON.parse(e)})))})]})]})})});var e}}]),a}(s.Component),A=a(521);L.a.defaults.withCredentials=!0;var T=function(e){Object(O.a)(a,e);var t=Object(g.a)(a);function a(e){var s;return Object(j.a)(this,a),(s=t.call(this,e)).handleInputChange=function(e){s.setState(Object(b.a)({},e.target.name,e.target.value))},s.state={username:"",password:"",alert:{login:!1}},s.onClickLogin=s.onClickLogin.bind(Object(m.a)(s)),s}return Object(p.a)(a,[{key:"onClickLogin",value:function(){var e=this,t=this.state,a=t.username,s=t.password;L.a.post("user/login",{username:a,password:s}).then((function(t){t.data.message?e.setState((function(e){return{alert:Object(h.a)(Object(h.a)({},e.alert),{},{login:!0})}})):(console.log(t.data),e.props.handleSuccessfulAuth(t.data))}))}},{key:"render",value:function(){var e=this;return Object(x.jsxs)("div",{className:"login",children:[Object(x.jsx)("h3",{className:"mb-3 mt-5 text-center",children:"Sign In"}),Object(x.jsxs)("div",{className:"container",children:[Object(x.jsxs)("div",{className:"row mb-3 mt-5 justify-content-center",children:[Object(x.jsx)("label",{className:"form-label",children:"Username"}),Object(x.jsx)("input",{type:"text",className:"col-6 ml-3 form-control",name:"username",placeholder:"Enter username",onChange:this.handleInputChange})]}),Object(x.jsxs)("div",{className:"row justify-content-center",children:[Object(x.jsx)("label",{className:"form-label",children:"Password"}),Object(x.jsx)("input",{type:"password",className:"col-6 ml-3 form-control",name:"password",placeholder:"Enter password",onChange:this.handleInputChange})]}),Object(x.jsx)("div",{className:"row mt-5 justify-content-center",children:Object(x.jsx)("button",{type:"button",onClick:this.onClickLogin,className:"btn btn-outline-primary",children:"Submit"})})]}),Object(x.jsx)("h3",{className:"mt-5 text-center",children:Object(x.jsx)(f.a,{to:"/register",className:"register_link",children:"Create an account"})}),Object(x.jsx)("div",{children:Object(x.jsx)(A.a,{style:{position:"absolute",top:100,right:40},show:this.state.alert.login,onClose:function(){e.setState((function(e){return{alert:Object(h.a)(Object(h.a)({},e.alert),{},{login:!1})}}))},delay:2e3,autohide:!0,children:Object(x.jsx)(A.a.Header,{children:Object(x.jsx)("strong",{children:"Username or password is wrong"})})})})]})}}]),a}(s.Component);L.a.defaults.withCredentials=!0;var B=function(e){Object(O.a)(a,e);var t=Object(g.a)(a);function a(e){var s;return Object(j.a)(this,a),(s=t.call(this,e)).handleInputChange=function(e){s.setState(Object(b.a)({},e.target.name,e.target.value))},s.onClickRegister=function(){var e=s.state,t=e.username,a=e.email,n=e.password;L.a.post("/user/register",{username:t,email:a,password:n}).then((function(e){console.log(e),e.data.message||s.props.handleSuccessfulAuth(e.data)}))},s.state={username:"",email:"",password:""},s}return Object(p.a)(a,[{key:"render",value:function(){return Object(x.jsx)("div",{className:"register",children:Object(x.jsxs)("form",{children:[Object(x.jsx)("h3",{className:"mb-3 text-center",children:"Sign Up"}),Object(x.jsxs)("div",{className:"container",children:[Object(x.jsxs)("div",{className:"mb-3 mt-5 row justify-content-center",children:[Object(x.jsx)("label",{className:"col-2 form-label",children:"Username"}),Object(x.jsx)("input",{type:"text",className:"col-3 form-control",placeholder:"Enter username",name:"username",onChange:this.handleInputChange})]}),Object(x.jsxs)("div",{className:"mb-3 row justify-content-center",children:[Object(x.jsx)("label",{className:"col-2 form-label",children:"Email address"}),Object(x.jsx)("input",{type:"email",className:"col-3 form-control",placeholder:"name@example.com",name:"email",onChange:this.handleInputChange})]}),Object(x.jsxs)("div",{className:"row justify-content-center",children:[Object(x.jsx)("label",{className:"col-2 form-label",children:"Password"}),Object(x.jsx)("input",{type:"password",className:"col-3 form-control",placeholder:"Enter password",name:"password",onChange:this.handleInputChange})]}),Object(x.jsx)("div",{className:"mt-5 row justify-content-center",children:Object(x.jsx)("button",{type:"button",onClick:this.onClickRegister,className:"btn btn-outline-primary",children:"Submit"})})]})]})})}}]),a}(s.Component),R=a(270),U=a(150),F=a.n(U),P=a(510),E=[{dataField:"id",text:"ID"},{dataField:"username",text:"Username",formatter:function(e,t){return Object(x.jsxs)(f.a,{to:"/profile/".concat(e),children:[" ",e," "]})}},{dataField:"email",text:"Email"},{dataField:"createdAt",text:"Registration date",formatter:function(e,t){return new Date(e).toLocaleDateString()}},{dataField:"role",text:"Role"},{dataField:"status",text:"Block status"}];L.a.defaults.withCredentials=!0;var J=function(e){Object(O.a)(a,e);var t=Object(g.a)(a);function a(e){var s;return Object(j.a)(this,a),(s=t.call(this,e)).state={users:[],selectedRows:[],alert:{block:!1,unblock:!1,delete:!1}},s.blockUsers=s.blockUsers.bind(Object(m.a)(s)),s.unblockUsers=s.unblockUsers.bind(Object(m.a)(s)),s.deleteUsers=s.deleteUsers.bind(Object(m.a)(s)),s.getData=s.getData.bind(Object(m.a)(s)),s.showBlockAlert=s.showBlockAlert.bind(Object(m.a)(s)),s.showUnblockAlert=s.showUnblockAlert.bind(Object(m.a)(s)),s.showDeleteAlert=s.showDeleteAlert.bind(Object(m.a)(s)),s}return Object(p.a)(a,[{key:"getData",value:function(){var e=Object(u.a)(d.a.mark((function e(){var t,a=this;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e){return setTimeout(e,200)}));case 2:return t=[],e.next=5,L.a.get("/user/usersTable").then((function(e){return e.data})).catch((function(e){console.log(e),a.props.history.push("/")}));case 5:t=e.sent,this.setState({users:t});case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){this.getData()}},{key:"showBlockAlert",value:function(){var e=this;this.setState((function(e){return{alert:Object(h.a)(Object(h.a)({},e.alert),{},{block:!0})}})),setTimeout((function(){e.setState((function(e){return{alert:Object(h.a)(Object(h.a)({},e.alert),{},{block:!1})}}))}),2e3)}},{key:"showUnblockAlert",value:function(){var e=this;this.setState((function(e){return{alert:Object(h.a)(Object(h.a)({},e.alert),{},{unblock:!0})}})),setTimeout((function(){e.setState((function(e){return{alert:Object(h.a)(Object(h.a)({},e.alert),{},{unblock:!1})}}))}),2e3)}},{key:"showDeleteAlert",value:function(){var e=this;this.setState((function(e){return{alert:Object(h.a)(Object(h.a)({},e.alert),{},{delete:!0})}})),setTimeout((function(){e.setState((function(e){return{alert:Object(h.a)(Object(h.a)({},e.alert),{},{delete:!1})}}))}),2e3)}},{key:"blockUsers",value:function(){var e=this,t=this.state.selectedRows;L.a.post("/table/block",{selectedRows:t}).then((function(a){a&&(t.includes(parseInt(e.props.userId))?e.handleLogoutClick():(e.showBlockAlert(),e.getData()))}))}},{key:"unblockUsers",value:function(){var e=this,t=this.state.selectedRows;L.a.post("/table/unblock",{selectedRows:t}).then((function(t){t&&(e.showUnblockAlert(),e.getData())}))}},{key:"deleteUsers",value:function(){var e=this,t=this.state.selectedRows;L.a.post("/table/delete",{selectedRows:t}).then((function(a){a&&(t.includes(parseInt(e.props.userId))?e.handleLogoutClick():(e.showDeleteAlert(),e.getData()))}))}},{key:"render",value:function(){var e=this;return Object(x.jsxs)("div",{className:"container mt-3",children:[Object(x.jsx)(P.a,{show:this.state.alert.block,variant:"danger",children:Object(x.jsx)("p",{children:"Users are blocked"})}),Object(x.jsx)(P.a,{show:this.state.alert.unblock,variant:"danger",children:Object(x.jsx)("p",{children:"Users are unblocked"})}),Object(x.jsx)(P.a,{show:this.state.alert.delete,variant:"danger",children:Object(x.jsx)("p",{children:"Users are deleted"})}),Object(x.jsxs)("div",{className:"btn-group mb-3",role:"group",children:[Object(x.jsx)("button",{onClick:this.blockUsers,type:"button",className:"btn btn-outline-primary",children:"Block"}),Object(x.jsx)("button",{onClick:this.unblockUsers,type:"button",className:"btn btn-outline-primary",children:"Unblock"}),Object(x.jsx)("button",{onClick:this.deleteUsers,type:"button",className:"btn btn-outline-danger",children:"Delete"})]}),Object(x.jsx)(F.a,{keyField:"id",noDataIndication:"Table is Empty",data:this.state.users,columns:E,hiddenRows:[5],wrapperClasses:"table-responsive",selectRow:{mode:"checkbox",clickToSelect:!0,onSelectAll:function(t,a,s){if(t){var n,r=Object(R.a)(a);try{var i=function(){var t=n.value;e.setState((function(e){return{selectedRows:[].concat(Object(o.a)(e.selectedRows),[t.id])}}))};for(r.s();!(n=r.n()).done;)i()}catch(c){r.e(c)}finally{r.f()}}else e.setState({selectedRows:[]})},onSelect:function(t,a){a?e.setState((function(e){return{selectedRows:[].concat(Object(o.a)(e.selectedRows),[t.id])}})):e.setState({selectedRows:e.state.selectedRows.filter((function(e){return e!==t.id}))})}}})]})}}]),a}(s.Component),M=Object(i.g)(J),H=a(511),z=a(512),G=a(513),W=a(514),V=a(519),K=a(271),Y=a.n(K),_=a(137),q=function(e){Object(O.a)(a,e);var t=Object(g.a)(a);function a(){var e;return Object(j.a)(this,a),(e=t.call(this)).handleChange=function(t){e.setState(Object(b.a)({},t.target.name,t.target.value))},e.state={id:void 0,profileId:void 0,username:"",profileUsername:"",email:"",profileEmail:"",books:[],isLoading:!0},e.getBooks=e.getBooks.bind(Object(m.a)(e)),e}return Object(p.a)(a,[{key:"getBooks",value:function(){var e=this,t=this.props.match.params.id;L.a.get("/book/userBooks",{params:{username:t}}).then((function(t){e.setState({books:t.data})}))}},{key:"deleteBook",value:function(e){var t=this,a=e;L.a.post("/book/deleteBook",{ID:a}).then((function(e){t.setState({books:t.state.books.filter((function(e){return e.id!==a}))})}))}},{key:"getUserData",value:function(){var e=this;L.a.get("/user/userData").then((function(t){"error"!==t.data.status?e.setState({id:t.data.id,username:t.data.username,email:t.data.email,role:t.data.role},(function(){return e.setState({isLoading:!1})})):e.setState({isLoading:!1})}))}},{key:"getProfileData",value:function(){var e=this;L.a.get("/user/profileData",{params:{username:this.props.match.params.id}}).then((function(t){e.setState({profileId:t.data.id,profileUsername:t.data.username,profileEmail:t.data.email})}))}},{key:"componentDidMount",value:function(){this.getBooks(),this.getProfileData(),this.getUserData()}},{key:"render",value:function(){var e=this,t=this.state.isLoading;if(t)return Object(x.jsx)("div",{children:Object(x.jsx)(H.a,{animation:"border",role:"status",children:Object(x.jsx)("span",{className:"sr-only",children:"Loading..."})})});if(!t&&!this.state.profileId)return Object(x.jsx)("div",{children:Object(x.jsx)("h3",{className:"mt-5 text-center",children:"This user doesn't exist"})});var a=[{dataField:"title",text:"Title",sort:!0},{dataField:"genre",text:"Genre"},{dataField:"tags",text:"Tags",formatter:function(e,t){return e?e.map((function(e,t){return Object(x.jsx)(z.a,{className:"mr-2 p-2",variant:"secondary",children:e.label},t)})):"No tags"}},{dataField:"rating",text:"Rating",formatter:function(e,t){return 0!==t.ratingCount?(e/t.ratingCount).toPrecision(2):0},sort:!0},{dataField:"createdAt",text:"Publication Date",formatter:function(e,t){return new Date(e).toLocaleDateString()},sort:!0},{dataField:"Edit",text:"",align:"center",formatter:function(e,t){return Object(x.jsx)(f.a,{to:{pathname:"/edit/".concat(t.title),state:{bookid:t.title}},children:Object(x.jsx)(G.a,{variant:"secondary",children:"Edit"})})},hidden:this.state.username!==this.state.profileUsername&&"admin"!==this.props.role},{dataField:"View",text:"",align:"center",formatter:function(e,t){return Object(x.jsx)(f.a,{to:"/view/".concat(t.title),children:Object(x.jsx)(G.a,{variant:"secondary",children:"View"})})}},{dataField:"Delete",text:"",align:"center",formatter:function(t,a){return Object(x.jsxs)(G.a,{onClick:function(){return e.deleteBook(a.id)},children:[" ",Object(x.jsx)(_.b,{})," "]})},hidden:this.state.username!==this.state.profileUsername}];return Object(x.jsx)(x.Fragment,{children:Object(x.jsxs)(W.a,{className:"container mt-3",children:[Object(x.jsxs)("div",{className:"row mt-1",children:[Object(x.jsx)("div",{className:"mb-1",style:{fontSize:24,fontWeight:"bold",width:"auto"},children:"Username:"}),Object(x.jsx)("div",{className:"p-1 ml-3",children:Object(x.jsx)(V.a.Control,{type:"text",placeholder:this.state.profileUsername,readOnly:!0})})]}),Object(x.jsxs)("div",{className:"row mt-1",children:[Object(x.jsx)("div",{className:"mb-1",style:{fontSize:24,fontWeight:"bold"},children:"Email:"}),Object(x.jsx)("div",{className:"p-1 ml-3",children:Object(x.jsx)(V.a.Control,{type:"text",placeholder:this.state.profileEmail,readOnly:!0})})]}),Object(x.jsxs)("div",{className:"container mt-3",children:[this.state.username===this.props.match.params.id?Object(x.jsx)("div",{className:"mt-3 mb-3",children:Object(x.jsx)(f.a,{to:"/createBook",children:Object(x.jsx)(G.a,{className:"shadow-sm",variant:"outline-success",children:"Create a book"})})}):null,Object(x.jsx)(F.a,{bootstrap4:!0,keyField:"id",noDataIndication:"Table is Empty",data:this.state.books,columns:a,defaultSorted:[{dataField:"createdAt",order:"desc"}],wrapperClasses:"table-responsive",pagination:Y()()})]})]})})}}]),a}(s.Component),Q=Object(i.g)(q),X=a(281),Z=a(515),$=a(273),ee=a(526),te=a(516),ae=a(276),se=a(277),ne=a(214),re=a(185),ie=a(153),ce=a.n(ie),oe=a(206),le=a.n(oe),de=a(279),ue=[{value:"fantasy",label:"Fantasy"},{value:"action",label:"Action"},{value:"adventure",label:"Adventure"},{value:"detective",label:"Detective"},{value:"romance",label:"Romance"},{value:"sci-fi",label:"Sci-Fi"},{value:"horror",label:"Horror"},{value:"thriller",label:"Thriller"},{value:"erotic",label:"Erotic"}];a(476),a(259);L.a.defaults.withCredentials=!0;var he=function(e){return e.map((function(e,t){var a=e;return a.chapterId=t+1,a}))},be=function(e){return e.map((function(e,t){var a=e;return a.chapterName=t+1,a}))},je=function(e){Object(O.a)(a,e);var t=Object(g.a)(a);function a(e){var s;return Object(j.a)(this,a),(s=t.call(this,e)).handleValueChange=function(e,t){var a=s.state.chapters;a[t].text=e,s.setState({chapters:a})},s.handleTabChange=function(e){s.setState({activeTab:e})},s.deleteChapter=function(e){var t=s.state.chapters.filter((function(t){return t.chapterId!==e}));s.setState({chapters:t})},s.state={editMode:!1,isLoading:!0,multiple:!0,bookId:"",tags:[],allTags:[],genre:"",activeNav:"write",desc:"",title:"",author:"",authorId:"",chapters:[{chapterId:1,id:"",chapterName:"1",text:"",BookId:""}]},s.createBook=s.createBook.bind(Object(m.a)(s)),s.updateBook=s.updateBook.bind(Object(m.a)(s)),s.onDragEnd=s.onDragEnd.bind(Object(m.a)(s)),s.addChapter=s.addChapter.bind(Object(m.a)(s)),s.deleteChapter=s.deleteChapter.bind(Object(m.a)(s)),s.getTags=s.getTags.bind(Object(m.a)(s)),s}return Object(p.a)(a,[{key:"openBook",value:function(){var e=this,t=this.props.match.params.bookid;this.getTags(),L.a.get("/book/openBook",{params:{title:t}}).then((function(t){e.setState({title:t.data.title,bookId:t.data.id,tags:t.data.tags,genre:t.data.genre,desc:t.data.description,author:t.data.author,authorId:t.data.authorId,chapters:t.data.Chapters},(function(){!e.state.chapters||"admin"!==e.props.role&&e.props.user!==e.state.author?e.props.history.push("/"):(e.state.chapters.map((function(e){return delete e.createdAt,delete e.updatedAt,e})),e.setState({isLoading:!1}))}))}))}},{key:"onDragEnd",value:function(e){if(e.destination){var t=function(e,t,a){var s=e,n=s.splice(t,1),r=Object(X.a)(n,1)[0];return s.splice(a,0,r),be(he(s))}(this.state.chapters,e.source.index,e.destination.index);this.setState({chapters:t})}}},{key:"addChapter",value:function(){var e=this.state.chapters.length+1,t=this.state.chapters,a={BookId:this.state.bookId,chapterId:e,chapterName:e.toString(),text:""};t.push(a),this.setState({chapters:t})}},{key:"componentDidMount",value:function(){var e=this;this.setState({author:this.props.user,authorId:this.props.userId}),this.props.location.pathname==="/edit/".concat(this.props.match.params.bookid)?this.setState({editMode:!0},(function(){return e.openBook()})):this.setState({isLoading:!1})}},{key:"createBook",value:function(){var e=this.state,t=e.author,a=e.authorId,s=e.tags,n=e.genre,r=e.desc,i=e.title,c=e.chapters;L.a.post("/book/createBook",{author:t,authorId:a,tags:s,genre:n,desc:r,title:i,chapters:c}).then((function(e){})),this.props.history.push("/view/".concat(i))}},{key:"updateBook",value:function(){var e=this.state,t=e.author,a=e.authorId,s=e.tags,n=e.genre,r=e.desc,i=e.title,c=e.bookId,o=e.chapters;L.a.post("/book/updateBook",{author:t,authorId:a,tags:s,genre:n,desc:r,title:i,bookId:c,chapters:o}).then((function(e){})),this.props.history.push("/view/".concat(i))}},{key:"getTags",value:function(){var e=this;L.a.get("/book/getTags").then((function(t){t.data.map((function(t){return t.tags&&t.tags.map((function(t){return delete t.customOption,e.setState((function(e){return{allTags:[].concat(Object(o.a)(e.allTags),[t])}})),t})),t}))}))}},{key:"render",value:function(){var e,t=this;return this.state.isLoading?Object(x.jsx)("div",{children:Object(x.jsx)(H.a,{animation:"border",role:"status",children:Object(x.jsx)("span",{className:"sr-only",children:"Loading..."})})}):Object(x.jsx)(x.Fragment,{children:Object(x.jsxs)("div",{className:"mt-4",children:[Object(x.jsxs)(V.a,{children:[Object(x.jsxs)(V.a.Group,{as:Z.a,children:[Object(x.jsx)(V.a.Label,{column:!0,sm:2,children:"Title"}),Object(x.jsx)($.a,{sm:6,children:Object(x.jsx)(V.a.Control,{value:this.state.title,onChange:function(e){t.setState({title:e.target.value})},type:"text"})})]}),Object(x.jsxs)(V.a.Group,{as:Z.a,children:[Object(x.jsx)(V.a.Label,{column:!0,sm:2,children:"Description"}),Object(x.jsx)($.a,{sm:6,children:Object(x.jsx)(V.a.Control,{as:"textarea",rows:3,value:this.state.desc,onChange:function(e){t.setState({desc:e.target.value})},type:"text"})})]}),Object(x.jsxs)(V.a.Group,{as:Z.a,children:[Object(x.jsx)(V.a.Label,{column:!0,sm:2,children:"Tags"}),Object(x.jsx)($.a,{sm:6,children:Object(x.jsx)(s.Fragment,{children:Object(x.jsx)(ne.b,Object(h.a)(Object(h.a)({},this.state),{},{allowNew:!0,highlightOnlyResult:!1,newSelectionPrefix:"Add a new tag: ",id:"tags-token",defaultSelected:this.state.tags?this.state.tags:[],options:this.state.allTags.length>0?(e=this.state.allTags,Object(o.a)(new Set(e.map((function(e){return JSON.stringify(e)})))).map((function(e){return JSON.parse(e)}))):[],labelKey:"value",onChange:function(e){return t.setState({tags:e})},placeholder:"Start typing...",renderToken:function(e,t,a){var s=t.onRemove;return Object(x.jsx)(ne.a,{option:e,onRemove:s,children:"".concat(e.value)},a)}}))})})]}),Object(x.jsxs)(V.a.Group,{as:Z.a,children:[Object(x.jsx)(V.a.Label,{column:!0,sm:2,children:"Genre"}),Object(x.jsx)($.a,{sm:6,children:Object(x.jsx)(de.a,{defaultValue:{value:"default",label:this.state.genre},onChange:function(e){return t.setState({genre:e})},isSearchable:!1,options:ue})})]})]}),Object(x.jsx)(ee.a,{style:{maxWidth:"45.5rem"},onClick:this.addChapter,children:Object(x.jsx)(ee.a.Header,{as:G.a,variant:"light",children:Object(x.jsx)(_.a,{})})}),Object(x.jsx)(re.a,{onDragEnd:this.onDragEnd,children:Object(x.jsx)(re.c,{droppableId:"droppable",children:function(e){return Object(x.jsx)("div",Object(h.a)(Object(h.a)({className:"col-xs"},e.droppableProps),{},{ref:e.innerRef,children:Object(x.jsxs)(te.a,{children:[t.state.chapters.map((function(e,a){return Object(x.jsx)(re.b,{draggableId:e.chapterId.toString(),index:a,children:function(s){return Object(x.jsx)("div",Object(h.a)(Object(h.a)(Object(h.a)({ref:s.innerRef},s.draggableProps),s.dragHandleProps),{},{children:Object(x.jsxs)(ee.a,{style:{maxWidth:"45.5rem"},children:[Object(x.jsxs)(ee.a.Header,{style:{display:"flex",alignItems:"center",margin:"0"},children:[Object(x.jsx)(ae.a,{as:G.a,variant:"link",eventKey:e.chapterId,children:t.state.editMode?"Chapter ".concat(e.chapterId):"Chapter ".concat(e.chapterName)}),a+1===t.state.chapters.length?Object(x.jsx)(G.a,{variant:"link",onClick:function(){t.deleteChapter(e.chapterId)},style:{marginLeft:"auto"},children:Object(x.jsx)(_.b,{})}):null]}),Object(x.jsx)(se.a,{eventKey:e.chapterId,children:Object(x.jsx)(le.a,{value:t.state.chapters[a].text,onChange:function(e){t.handleValueChange(e,a)},selectedTab:t.state.activeTab,onTabChange:t.handleTabChange,generateMarkdownPreview:function(e){return Promise.resolve(Object(x.jsx)(ce.a,{source:e}))}})})]},a)}))}},e.chapterId)})),e.placeholder]})}))}})}),Object(x.jsx)("div",{className:"mt-3",children:this.state.editMode?Object(x.jsx)(G.a,{onClick:this.updateBook,variant:"outline-success",children:"Update"}):Object(x.jsx)(G.a,{onClick:this.createBook,variant:"outline-success",children:"Publish"})})]})})}}]),a}(s.Component),pe=Object(i.g)(je),me=a(527),Oe=function(e){Object(O.a)(a,e);var t=Object(g.a)(a);function a(){return Object(j.a)(this,a),t.apply(this,arguments)}return Object(p.a)(a,[{key:"render",value:function(){return Object(x.jsxs)("div",{className:"row mt-1",children:[Object(x.jsx)("div",{className:"p-1 mr-5",children:this.props.label}),Object(x.jsx)("div",{children:this.props.value})]})}}]),a}(s.Component),ge=a(520),fe=a(518),xe=a(523),ve=(a(485),a(486),a(487),a(488),function(e){Object(O.a)(a,e);var t=Object(g.a)(a);function a(e){var s;return Object(j.a)(this,a),(s=t.call(this,e)).ws=new WebSocket(window.location.origin.replace(/^http/,"ws")+"/".concat(s.props.bookId)),s.handleInputChange=function(e){e.preventDefault(),s.setState(Object(b.a)({},e.target.name,e.target.value))},s.addCommentsFromServer=function(e){s.setState((function(t){return{comments:e}}))},s.state={comments:[],comment:""},s}return Object(p.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.ws.onopen=function(){console.log("Connected to server")},this.ws.onmessage=function(t){var a=JSON.parse(t.data);e.addCommentsFromServer(a)},this.ws.onclose=function(){console.log("Disconnected from server"),e.setState({ws:new WebSocket(window.location.origin.replace(/^http/,"ws")+"/".concat(e.props.bookId))})}}},{key:"addReply",value:function(){if(this.state.comment){var e={author:this.props.username,UserId:this.props.userId,BookId:this.props.bookId,text:this.state.comment};this.ws.send(JSON.stringify(e)),this.setState({comment:""})}}},{key:"render",value:function(){var e=this;return Object(x.jsxs)("div",{children:[Object(x.jsx)(ge.a.Group,{size:"small",children:this.state.comments.map((function(e,t){return Object(x.jsx)(ge.a,{children:Object(x.jsxs)(ge.a.Content,{children:[Object(x.jsx)(ge.a.Author,{as:"a",children:e.author}),Object(x.jsx)(ge.a.Metadata,{children:Object(x.jsx)("div",{children:new Date(e.createdAt).toLocaleString("ru-RU")})}),Object(x.jsx)(ge.a.Text,{children:e.text})]})},t)}))}),this.props.username?Object(x.jsxs)(fe.a,{reply:!0,children:[Object(x.jsx)(fe.a.TextArea,{value:this.state.comment,onChange:function(t){return e.handleInputChange(t)},name:"comment",width:8}),Object(x.jsx)(xe.a,{ws:this.ws,onClick:function(){return e.addReply()},content:"Add Reply",labelPosition:"left",icon:"edit",size:"small",primary:!0})]}):null]})}}]),a}(s.Component)),ke=Object(i.g)(ve);L.a.defaults.withCredentials=!0;var ye=function(e){Object(O.a)(a,e);var t=Object(g.a)(a);function a(e){var s;return Object(j.a)(this,a),(s=t.call(this,e)).pushChapters=function(){var e=[];return s.state.book.Chapters&&s.state.book.Chapters.map((function(t,a){return e.push(Object(x.jsx)(me.a.Item,{onClick:function(){s.setActivePage(a),s.setState({comments:!1})},children:a+1},a)),e})),e},s.state={isLoading:!0,book:[],rating:void 0,activePage:"",editable:!0,comments:!1},s.setRating=s.setRating.bind(Object(m.a)(s)),s.setRatingBook=s.setRatingBook.bind(Object(m.a)(s)),s.setActivePage=s.setActivePage.bind(Object(m.a)(s)),s.pushChapters=s.pushChapters.bind(Object(m.a)(s)),s.isRated=s.isRated.bind(Object(m.a)(s)),s}return Object(p.a)(a,[{key:"componentDidMount",value:function(){void 0===this.props.user&&this.setState({editable:!1}),this.openBook()}},{key:"isRated",value:function(){var e=this,t=this.state.book.id,a=this.props.userId;L.a.get("/book/isRated",{params:{authorId:a,bookId:t}}).then((function(t){console.log(t),t.data.message?e.setState({editable:!1},(function(){return e.setState({isLoading:!1})})):e.setState({isLoading:!1})}))}},{key:"openBook",value:function(){var e=Object(u.a)(d.a.mark((function e(){var t,a=this;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.match.params.bookid,e.next=3,L.a.get("/book/openBook",{params:{title:t}}).then((function(e){a.setState({book:e.data},(function(){a.props.user?a.isRated():a.setState({isLoading:!1})}))})).catch((function(e){return console.log(e)}));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setActivePage",value:function(e){this.setState({activePage:e})}},{key:"setRating",value:function(e){this.props.user?this.setState({rating:e}):console.log("You have to login to set a rating.")}},{key:"setRatingBook",value:function(){if(this.props.user){var e=this.props.user,t=this.state.book.id,a=this.state.book.rating,s=this.props.userId,n=this.state.book.ratingCount;L.a.post("/book/setRating",{author:e,authorId:s,bookId:t,rating:a,ratingCount:n}).then((function(e){console.log(e)}))}else console.log("You have to login to set a rating.")}},{key:"render",value:function(){var e=this;return this.state.isLoading?Object(x.jsx)("div",{children:Object(x.jsx)(H.a,{animation:"border",role:"status",children:Object(x.jsx)("span",{className:"sr-only",children:"Loading..."})})}):this.state.book?Object(x.jsx)(x.Fragment,{children:Object(x.jsxs)(W.a,{className:"container",children:[Object(x.jsx)(Oe,{label:"Title:",value:this.state.book.title}),Object(x.jsx)(Oe,{label:"Author:",value:this.state.book.author}),Object(x.jsx)(Oe,{label:"Description:",value:this.state.book.description}),Object(x.jsx)(Oe,{label:"Genre:",value:this.state.book.genre}),Object(x.jsxs)("div",{className:"row mt-1",children:[Object(x.jsx)("div",{className:"p-1 mr-5",children:"Tags:"}),this.state.book.tags?this.state.book.tags.map((function(e,t){return Object(x.jsx)(z.a,{className:"mr-2 p-2",variant:"secondary",children:e.value},t)})):null]}),Object(x.jsxs)("div",{className:"row mt-1",children:[Object(x.jsx)("div",{className:"p-1 mr-5",children:"Rating:"}),Object(x.jsx)(S.a,{value:this.state.book.rating/this.state.book.ratingCount,count:5,edit:!(!this.props.user||!this.state.editable),onChange:this.setRating,isHalf:!0,size:24,activeColor:"#ffd700"}),Object(x.jsx)("span",{className:"ml-3 mt-2",children:this.state.book.rating?(this.state.book.rating/this.state.book.ratingCount).toPrecision(2):0}),Object(x.jsx)(G.a,{className:"ml-3 p-1",onClick:function(){return e.setState((function(t){return{book:Object(h.a)(Object(h.a)({},t.book),{},{rating:e.state.editable?t.book.rating+e.state.rating:t.book.rating,ratingCount:e.state.editable?t.book.ratingCount+1:t.book.ratingCount}),editable:!1}}),(function(){return e.setRatingBook()}))},variant:"outline-success",children:"Submit"})]}),Object(x.jsxs)("div",{className:"row mt-1",children:[Object(x.jsx)("div",{className:"p-1 mr-5",children:"Chapters:"}),Object(x.jsxs)(me.a,{children:[this.pushChapters(),Object(x.jsx)(me.a.Item,{onClick:function(){e.setState({comments:!0})},children:"Comments"})]})]}),this.state.comments?Object(x.jsx)(ke,{username:this.props.user,userId:this.props.userId,bookId:this.state.book.id}):null,""!==this.state.activePage?Object(x.jsx)("div",{className:"row mt-5 ",children:Object(x.jsx)(ce.a,{children:this.state.book.Chapters[parseInt(this.state.activePage)].text})}):null]})}):Object(x.jsx)("div",{children:Object(x.jsx)("h3",{className:"mt-5 text-center",children:"No book found."})})}}]),a}(s.Component),Se=Object(i.g)(ye),we=a(282);var Ce=Object(i.g)((function(e){var t=e.component,a=e.handleSuccessfulAuth,s=e.handleLogin,n=e.user,r=Object(we.a)(e,["component","handleSuccessfulAuth","handleLogin","user"]);return Object(x.jsx)(i.b,Object(h.a)(Object(h.a)({},r),{},{render:function(e){return void 0===n?Object(x.jsx)(t,Object(h.a)({handleSuccessfulAuth:a,handleLogin:s,user:n},e)):Object(x.jsx)(i.a,{to:"/"})}}))})),Ne=function(e){Object(O.a)(a,e);var t=Object(g.a)(a);function a(){var e;return Object(j.a)(this,a),(e=t.call(this)).state={book:void 0},e.getBook=e.getBook.bind(Object(m.a)(e)),e}return Object(p.a)(a,[{key:"getBook",value:function(e,t){var a=this;this.setState({book:e.find((function(e){return e.id===parseInt(t)}))},(function(){return a.setState({isLoading:!1})}))}},{key:"componentDidMount",value:function(){this.getBook(JSON.parse(localStorage.getItem("books")),this.props.result.ref)}},{key:"render",value:function(){if(!this.state.book)return Object(x.jsx)("div",{children:Object(x.jsx)(H.a,{animation:"border",role:"status",children:Object(x.jsx)("span",{className:"sr-only",children:"Loading..."})})});var e=this.state.book;return Object(x.jsx)(k,{title:e.title,description:e.description,author:e.author,updatedAt:e.updatedAt},e.id)}}]),a}(s.Component),Ie=a(522),Le=a(524),De=a(517),Ae=a(272),Te=a(528),Be=a(491);a(492)(Be),a(493)(Be),a(494)(Be);var Re=Be.multiLanguage("en","ru");L.a.defaults.withCredentials=!0;var Ue=function(e){Object(O.a)(a,e);var t=Object(g.a)(a);function a(){var e;return Object(j.a)(this,a),(e=t.call(this)).handleInputChange=function(t){e.setState(Object(b.a)({},t.target.name,t.target.value))},e.state={search:"",alert:{login:!1,logout:!1},user:{id:void 0,username:void 0,email:void 0,role:void 0},isLoading:!0,chapters:[],comments:[]},e.handleLogin=e.handleLogin.bind(Object(m.a)(e)),e.handleLogout=e.handleLogout.bind(Object(m.a)(e)),e.handleLogoutClick=e.handleLogoutClick.bind(Object(m.a)(e)),e.handleSuccessfulAuth=e.handleSuccessfulAuth.bind(Object(m.a)(e)),e.getBooks=e.getBooks.bind(Object(m.a)(e)),e.getTags=e.getTags.bind(Object(m.a)(e)),e.handleSearch=e.handleSearch.bind(Object(m.a)(e)),e}return Object(p.a)(a,[{key:"handleSuccessfulAuth",value:function(e){this.handleLogin(e)}},{key:"handleLogout",value:function(){this.showLogoutAlert(),this.setState({user:{id:void 0,username:void 0,email:void 0,role:void 0}}),this.props.history.push("/")}},{key:"showLogoutAlert",value:function(){this.setState((function(e){return{alert:Object(h.a)(Object(h.a)({},e.alert),{},{logout:!0})}}))}},{key:"handleLogoutClick",value:function(){var e=this;L.a.get("/user/logout").then((function(t){e.handleLogout()}))}},{key:"showLoginAlert",value:function(){this.setState((function(e){return{alert:Object(h.a)(Object(h.a)({},e.alert),{},{login:!0})}}))}},{key:"handleLogin",value:function(e){var t=this;this.showLoginAlert(),this.setState({user:{id:e.id,username:e.username,email:e.email,role:e.role}},(function(){return t.props.history.push({pathname:"/users",state:{user:t.state.user}})}))}},{key:"getBooks",value:function(){var e=Object(u.a)(d.a.mark((function e(){var t=this;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:L.a.get("/book/allBooks").then((function(e){localStorage.setItem("books",JSON.stringify(e.data))})).then((function(){return t.setState({isLoading:!1})}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"getUserData",value:function(){var e=this;L.a.get("/user/userData").then((function(t){"error"!==t.data.status&&e.setState({user:{id:t.data.id,username:t.data.username,email:t.data.email,role:t.data.role}})}))}},{key:"getTags",value:function(){var e=this;L.a.get("/book/getTags").then((function(t){t.data.map((function(t){return t.tags.map((function(t){return delete t.customOption,e.setState((function(e){return{allTags:[].concat(Object(o.a)(e.allTags),[t])}})),t})),t}))}))}},{key:"handleSearch",value:function(){var e=this.state.search;if(e){L.a.get("/book/allComments").then((function(e){localStorage.setItem("comments",JSON.stringify(e.data))})),L.a.get("/book/allChapters").then((function(e){localStorage.setItem("chapters",JSON.stringify(e.data))}));var t=Be((function(){var e=this;this.use(Re),this.ref("id"),this.field("author"),this.field("title"),this.field("description"),this.field("text"),JSON.parse(localStorage.getItem("books")).map((function(t){return e.add({id:t.id,title:t.title,author:t.author,description:t.description})})),JSON.parse(localStorage.getItem("comments")).map((function(t){return e.add({id:t.BookId,text:t.text})})),JSON.parse(localStorage.getItem("chapters")).map((function(t){return e.add({id:t.BookId,chapter:t.text})}))}));localStorage.setItem("searchResult",JSON.stringify(t.search(e))),this.props.history.replace({pathname:"/search/".concat(this.state.search)})}}},{key:"componentDidMount",value:function(){this.getUserData(),this.getBooks()}},{key:"render",value:function(){var e=this;return this.state.isLoading?Object(x.jsx)("div",{children:Object(x.jsx)(H.a,{animation:"border",role:"status",children:Object(x.jsx)("span",{className:"sr-only",children:"Loading..."})})}):Object(x.jsxs)(x.Fragment,{children:[Object(x.jsxs)(Ie.a,{collapseOnSelect:!0,sticky:"top",expand:"sm",bg:"light",variant:"light",children:[Object(x.jsx)(Ie.a.Brand,{href:"/",children:Object(x.jsx)("h3",{children:"Mordor"})}),Object(x.jsx)(Ie.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),Object(x.jsxs)(Ie.a.Collapse,{id:"responsive-navbar-nav",children:[Object(x.jsxs)(Le.a,{className:"mr-auto",children:[this.state.user&&"admin"===this.state.user.role?Object(x.jsx)(Le.a.Link,{href:"/users",children:Object(x.jsx)(G.a,{variant:"outline-primary",children:"Users"})}):null,Object(x.jsx)(Le.a.Link,{href:"/books",children:Object(x.jsx)(G.a,{variant:"outline-primary",children:"Fandoms"})})]}),this.state.user&&this.state.user.username?Object(x.jsxs)(Le.a,{className:"ml-auto",children:[Object(x.jsx)(Le.a.Link,{children:Object(x.jsx)(G.a,{onClick:function(){return e.props.history.replace({pathname:"/profile/".concat(e.state.user.username),state:{user:e.state.user}})},variant:"primary",children:"Profile"})}),Object(x.jsx)(Le.a.Link,{children:Object(x.jsx)(G.a,{onClick:this.handleLogoutClick,variant:"outline-primary",children:"Logout"})})]}):Object(x.jsx)(Le.a.Link,{href:"/login",children:Object(x.jsx)(G.a,{variant:"outline-primary",children:"Login"})})]}),Object(x.jsx)("div",{className:"ml-lg-2 ml-md-2 ml-sm-2",children:Object(x.jsxs)(De.a,{children:[Object(x.jsx)(Ae.a,{type:"text",placeholder:"Search",name:"search",onChange:this.handleInputChange}),Object(x.jsx)(De.a.Prepend,{children:Object(x.jsx)(G.a,{variant:"outline-info",onClick:this.handleSearch,children:"Search"})})]})})]}),Object(x.jsxs)("div",{className:"container",children:[Object(x.jsxs)(i.d,{children:[Object(x.jsx)(i.b,{exact:!0,path:"/",render:function(t){return Object(x.jsx)(D,Object(h.a)(Object(h.a)({},t),{},{books:e.state.books}))}}),Object(x.jsx)(i.b,{path:"/profile/:id",render:function(t){return Object(x.jsx)(Q,Object(h.a)(Object(h.a)({},t),{},{books:JSON.parse(localStorage.getItem("books")),role:e.state.user.role}))}}),Object(x.jsx)(i.b,{path:"/view/:bookid",render:function(t){return Object(x.jsx)(Se,Object(h.a)(Object(h.a)({},t),{},{user:e.state.user.username,userId:e.state.user.id}))}}),Object(x.jsx)(i.b,{path:"/edit/:bookid",render:function(t){return e.state.user.username?Object(x.jsx)(pe,Object(h.a)(Object(h.a)({},t),{},{role:e.state.user.role,user:e.state.user.username,userId:e.state.user.id})):Object(x.jsx)(i.a,{to:"/"})}}),Object(x.jsx)(i.b,{path:"/createBook",render:function(t){return e.state.user.username?Object(x.jsx)(pe,Object(h.a)(Object(h.a)({},t),{},{user:e.state.user.username,userId:e.state.user.id})):Object(x.jsx)(i.a,{to:"/"})}}),Object(x.jsx)(Ce,{path:"/login",component:T,handleSuccessfulAuth:this.handleSuccessfulAuth,handleLogin:this.handleLogin,user:this.state.user.username}),Object(x.jsx)(i.b,{path:"/register",render:function(t){return Object(x.jsx)(B,Object(h.a)(Object(h.a)({},t),{},{handleSuccessfulAuth:e.handleSuccessfulAuth,handleLogin:e.handleLogin}))}}),Object(x.jsx)(i.b,{path:"/users",render:function(t){return"admin"===e.state.user.role?Object(x.jsx)(M,Object(h.a)(Object(h.a)({},t),{},{user:e.state.user.username,userId:e.state.user.id})):Object(x.jsx)(i.a,{to:"/"})}}),Object(x.jsx)(i.b,{path:"/books",render:function(e){return Object(x.jsx)(Te.a,{children:JSON.parse(localStorage.getItem("books")).map((function(t,a){return Object(x.jsx)("div",{children:Object(s.createElement)(k,Object(h.a)(Object(h.a)({},e),{},{key:t.id,title:t.title,description:t.description,author:t.author,updatedAt:t.updatedAt}))},a)}))})}}),Object(x.jsx)(i.b,{path:"/search",render:function(t){return Object(x.jsx)(Te.a,{children:JSON.parse(localStorage.getItem("searchResult")).length>0?JSON.parse(localStorage.getItem("searchResult")).map((function(a,s){return Object(x.jsx)("div",{children:Object(x.jsx)(Ne,Object(h.a)(Object(h.a)({},t),{},{result:a,index:s,comments:e.state.comments,chapters:e.state.chapters}))},s)})):Object(x.jsx)("div",{children:Object(x.jsx)("h3",{className:"mt-5 text-center",children:"No search results found."})})})}}),Object(x.jsx)(i.b,{path:"*",component:function(){return Object(x.jsx)("h3",{className:"text-center",children:"404 NOT FOUND"})}})]}),Object(x.jsx)("div",{children:Object(x.jsx)(A.a,{style:{position:"absolute",top:100,right:40},show:this.state.alert.logout,onClose:function(){e.setState((function(e){return{alert:Object(h.a)(Object(h.a)({},e.alert),{},{logout:!1})}}))},delay:3e3,autohide:!0,children:Object(x.jsx)(A.a.Header,{children:Object(x.jsx)("strong",{children:"You logged out"})})})}),Object(x.jsx)("div",{children:Object(x.jsx)(A.a,{style:{position:"absolute",top:100,right:40},show:this.state.alert.login,onClose:function(){e.setState((function(e){return{alert:Object(h.a)(Object(h.a)({},e.alert),{},{login:!1})}}))},delay:3e3,autohide:!0,children:Object(x.jsx)(A.a.Header,{children:Object(x.jsxs)("strong",{children:[this.state.user.username," logged in"]})})})})]})]})}}]),a}(s.Component),Fe=Object(i.g)(Ue);L.a.defaults.baseURL="https://itransition-coursework.herokuapp.com";var Pe=Object(c.a)();r.a.render(Object(x.jsx)(i.c,{history:Pe,children:Object(x.jsx)(Fe,{})}),document.getElementById("root"))}},[[495,1,2]]]);
//# sourceMappingURL=main.6f02a93b.chunk.js.map